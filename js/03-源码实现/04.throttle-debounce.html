<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
	<button class="btn">按钮</button>
<script type="text/javascript">
	// 防抖 如果在定时器的时间范围内再次触发，则重新计时。
	const debounce = (fn, delay = 500) => {
	  let timer = null;
	  return (...args) => {
	    clearTimeout(timer);
	    timer = setTimeout(() => {
	      fn.apply(this, args);
	    }, delay);
	  };
	};

	// 节流 如果在定时器的时间范围内再次触发，则不予理睬，等当前定时器完成，才能启动下一个定时器。
	const throttle = (fn, delay = 500) => {
	  let flag = true;
	  let isFirst = true
	  return (...args) => {
	    if (!flag) return;
	    flag = false;
	    if(isFirst) {
	    	fn.apply(this, args)
	    	isFirst = false
	    	flag = true
	    	return;
	    }
	    setTimeout(() => {
	      fn.apply(this, args);
	      flag = true;
	    }, delay);
	  };
	};
	var fn = throttle(function() {
		console.log('click')
	})
	var btn = document.querySelector('.btn')
	btn.onclick = function() {
		fn()
	}

	window.onresize = debounce(function() {
		console.log('scroll')
	})
</script>
</body>
</html>