<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
<script type="text/javascript">
	// 返回直接量  使用promise.resolve()封装返回
	// async function async1() {
	// 	return "hello async"
	// }
	// var result = async1()
	// console.log(result) //Promise {<resolved>: "hello async"}

	// 没有返回值
	// async function async1() {
	// 	console.log("hello async")
	// }
	// var result = async1()
	// console.log(result) //Promise {<resolved>: undefined}

	// async是让出线程的标志
	// await之后的函数会执行一遍 然后跳出整个async函数执行js栈 等本轮事件循环执行完毕后又跳回async函数await后面的表达式的返回值

	// async function testSomething () {
	// 	console.log("执行testing")
	// 	return "testSomething"
	// }
	// async function testAsync () {
	// 	console.log("执行testAsync")
	// 	return Promise.resolve("hello async")
	// }
	// async function test () {
	// 	console.log("test start...")
	// 	const v1 = await testSomething()
	// 	console.log(v1)
	// 	const v2 = await testAsync()
	// 	console.log(v2)
	// 	// console.log(v1, v2)
	// }
	// test()
	// new Promise(resolve => {
	// 	console.log("promise start")
	// 	resolve('promise')
	// }).then(val => {
	// 	console.log(val)
	// 	return 'promise2'
	// }).then(val => {
	// 	console.log(val)
	// })
	// console.log("test ending")


	async function async1(){
	  console.log('async1 start')
	  await async2() //让出线程
	  console.log('async1 end')
	}
	async function async2(){
	  console.log('async2')
	}
	console.log('1')

	setTimeout(function(){
	  console.log('setTimeout') 
	}, 0)  
	async1();

	new Promise(function(resolve){
	  console.log('promise1')
	  resolve();
	}).then(function(){
	  console.log('promise2')
	})
	console.log('2')
</script>
</body>
</html>