<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
<script type="text/javascript">
	var memoizer = function (memo, formula) {
		var recur = function (n) {
			var result = memo[n]
			// console.log(result)
			if (typeof result !== 'number') {
				result = formula(recur, n)
				memo[n] = result
				console.log(memo)
			}
			return result
		}
		return recur
	}
	var factorial = memoizer([0, 1], function(recur, n) {
		return recur(n - 1) + recur(n - 2)
	})
	console.log(factorial(5))


	var fibonacci = function (n) {
		return n < 2 ? n : fibonacci(n-1) + fibonacci(n-2);
	}
	console.log(fibonacci(5))

	Function.prototype.curry = function() {
		var slice = Array.prototype.slice
		var args = slice.apply(arguments)
		var that = this
		// console.log(this)
		// console.log(arguments)
		return function () {
			// console.log(args)
			// console.log(arguments)
			// console.log(args.concat(slice.apply(arguments)))
			return that.apply(null, args.concat(slice.apply(arguments)))
		}
	}
	var add = function(a, b) {
		return a + b
	}
	console.log(add.curry(1)(6))
	function Fun (name,age) {
		this.name = name
		console.log(name, age)
	}
	Function.prototype.mynew = function() {
		var that = Object.create(this.prototype)
		var other = this.apply(that, arguments)

		return (typeof other === 'object' && other) || that
	}
	console.log(Fun.mynew('bang', 20))
</script>
</body>
</html>