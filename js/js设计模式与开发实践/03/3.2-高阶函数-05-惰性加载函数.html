<html>
<body>
	<div id="div1">点我绑定事件</div>
<script>
	// 每次调用的时候都会执行里面的if分支, 有一些方法可以让程序避免这些重复的过程
	// var addEvent = function( elem, type, handler ){
	// 	if ( window.addEventListener ){
	// 		return elem.addEventListener( type, handler, false );

	// 	}
	// 	if ( window.attachEvent ){
	// 		return elem.attachEvent( 'on' + type, handler );
	// 	}
	// };

	// 在代码加载的时候立即进行一次判断, 但是有可能会多余
	// var addEvent = (function(){
	// 	if ( window.addEventListener ){
	// 		return function( elem, type, handler ){
	// 			elem.addEventListener( type, handler, false );
	// 		}
	// 	}
	// 	if ( window.attachEvent ){
	// 		return function( elem, type, handler ){
	// 			elem.attachEvent( 'on' + type, handler );
	// 		}
	// 	}
	// })();
	
	var addEvent = function( elem, type, handler ){
		if ( window.addEventListener ){
			addEvent = function( elem, type, handler ){
				elem.addEventListener( type, handler, false );
			}
		}else if ( window.attachEvent ){
			addEvent = function( elem, type, handler ){
				elem.attachEvent( 'on' + type, handler );
			}
		}
		addEvent( elem, type, handler );
	};

	var div = document.getElementById( 'div1' );
	addEvent( div, 'click', function(){
		alert (1);
	});
	addEvent( div, 'click', function(){
		alert (2);
	});
</script>
</body>
</html>