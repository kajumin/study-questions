<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
	<!-- 
	1. 对象使用数组push方法
	2. 对象属性标识符相同后者覆盖前者
	3. {匹配模式: 变量名} = {}
	4. a.x = a = {n:3} 修改a的属性 b.x的属性也会跟着变
	5. Object.freeze 不能添加 修改 删除 浅冻结
	   Object.seal   不能添加和删除 可以修改
	6. this指向问题 this丢失 
	7. 对象展开运算符{...newObj} = obj  [...obj]报错
	8. Object.defineProperty(obj, key, {value: 12}) 默认都不可以
		对象字面量 默认都可以
		configurable: false; 可配置 删除和除了value和writable都不可以(set get)属性描述符
	9. 对象属性 特殊标识符 需要双引号
	10. 除了null以外, 其他数据类型都有原型
	-->
<script type="text/javascript">
	var obj = {
		"3": 3,
		"4": 4,
		length: 2,
		push: Array.prototype.push
	}
	obj.push(1) //在2索引上添加1  length变为3
	obj.push(2) //在3索引修改值为2
	console.log(obj)

	// 任然有引用
	let config = {
		age: 20,
		alert: setInterval(() => { //任然有定时器
			console.log(this.age) //undefined
		}, 1000) 
	}
	// clearInterval(config.alert) //可以清除 清除后alert属性值为1
	// config = null //清除不了定时器
	console.log(config)

	let fn = function () {
		console.log(this.age)
		var a = 1
		setInterval(() => {
			console.log(a) //都能记住a
			console.log(this.age)
		}, 1000)
	}
	let config2 = {
		age: 20,
		alert: fn(), //this.age为undefined
		fn: fn //this.age为10
	}
	// config2.fn()
	config2 = null

	// 属性相同后者覆盖前者
	var obj = { a: 'bang', b: 'kajumin', a: 'joycechu'}
	console.log(obj) 

	// {匹配模式: 变量名} = {}
	let { name1: myName } =  { name1: 'bang' }
	// console.log(name1) //referenceError
	console.log(myName) //bang

	let a = { n: 1 } 
	let b = a;
	a.x = a = { n: 2} // a = {n:2} b = {n:1, x:{n:2}}
	a.n = 3  //b.x也会被修改
	console.log(a.x) //undefined
	console.log(b.x) //{n:3}
	console.log(a)  // {n:3}
	console.log(b)  // {n:1, x: {n:3}}
	console.log(b == a)  //false

	var fullname = 'window-fullname'
	var obj = {
		fullname: 'javascript',
		prop: {
			// fullname: 'prop-fullname',
			getFullName () {
				return this.fullname
			}
		}
	}
	console.log(obj.prop.getFullName()) // undefined // 因为prop对象没有这个属性返回undefined
	var test = obj.prop.getFullName //赋值了 导致this指向window
	console.log(test())

	const obj3 = {
		a: 3,
		b: 4
	}
	const { ...newObj3 } = obj3 
	const newObj4 = { ...obj3 }
	console.log(newObj3) //{a:3, b: 4}
	console.log(newObj4) //{a:3, b: 4}
	// console.log([...obj3]) //obj3 is not iterable

	// Object.defineProperty(obj, 'key', {value: 20})默认不可枚举 不可配置  不可修改
	// 可枚举  enumerable  false 
	// 可修改  writable    false
	// 可配置(删除)  configurable false
	var obj2 = { name: 'bang' }  //都可以
	Object.defineProperty(obj2, 'age', { value: 20 }) //都不可以
	Object.defineProperty(obj2, 'name', { value: 'lyt', configurable: false }) //都不可以
	// Object.defineProperty(obj2, 'name', { value: 'lyt', set(){}}) // configurable:false 删除属性和修改除value和writable外属性描述符都报错
	obj2.name = 'joycechu'
	delete obj2.name
	console.log(obj2)
	console.log(Object.getOwnPropertyDescriptors(obj2))

	// first_name 不需要双引号  first-name需要双引号
	var obj6 = {
		first_name: 'bang',
		"first-name": 'joycechu',
		firstName: 'kajumin'
	}
	
</script>
</body>
</html>