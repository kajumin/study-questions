<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
	<!-- 
	toString()  String()
	Number()
	Boolean()
	toPrimitive() 对象转换为基本类型时会调用的方法

	 -->
<script type="text/javascript">
	// toString   String()都可以
	console.log(String(undefined))
	console.log(String(null))
	console.log(String(false))
	console.log(String('abc'))

	console.log({}.toString())
	console.log([].toString())

	console.log({}.valueOf())
	console.log({}.valueOf().toString())
	console.log([].valueOf())
	console.log([].valueOf().toString())

	// 对number类型
	// 如果m为NaN，返回String “NaN”
	// 如果m为+0或-0，返回String “0”
	// 如果m<0，返回String “-” 和 ToString(-m) 的 String连接
	// 如果m为Infinity，返回String “Infinity”
	console.log(String(NaN))
	console.log(String(Infinity))
	console.log(String(-12))
	console.log(String(-0))
	console.log(String(+0))

	// toNumber没有在原型上定义, 只能通过Number()方法转换
	console.log('Number()转换')
	console.log(Number(undefined)) //NaN
	console.log(Number(NaN)) //NaN
	console.log(Number(function(){})) //NaN
	console.log(Number({})) // NaN  valueOf() ({}) toString() ([object Object])

	console.log(Number(null)) //0
	console.log(Number(true)) //1
	console.log(Number(123))  //123

	
	console.log(Number([])) // 0    valueOf() ([]) toString() ('')

	console.log(Number()) // 0
	console.log(Number(""))// 0
	console.log(Number(" "))// 0
	console.log(Number("0")) //0
	console.log(Number("+0")) // 0
	console.log(Number("-0")) //-0
	console.log(Number("Infinity"))  // Infinity
	console.log(Number("+Infinity")) // Infinity
	console.log(Number("-Infinity")) // -Infinity
	console.log(Number("10e3"))  // 10000
	console.log(Number("+10e3")) // 10000
	
	// toBoolean没有在原型上定义, 只能通过Boolean()方法转换
	console.log('Boolean()转换')
	console.log(Boolean(0)) // false
	console.log(Boolean(-0)) // false
	console.log(Boolean("")) // false
	console.log(Boolean(false)) // false
	console.log(Boolean(undefined)) // false
	console.log(Boolean(null)) // false
	console.log(Boolean(NaN)) // false
	
	console.log(Boolean(123)) // true
	console.log(Boolean(" ")) // true
	console.log(Boolean(true)) // true
	console.log(Boolean([])) // true
	console.log(Boolean({})) // true
	console.log(Boolean(function(){})) // true

	console.log(Boolean(new Number(0))) // true
	console.log(Boolean(new String(''))) // true
	console.log(Boolean(new Boolean(false))) // true
	// 总结 
	// 1.0  -0 NaN  '' false undefined null都为假
	// 2.' '空格字符 非0数值 true {} [] 都为真   Object都为真
	// 3. new Number(0) new String('') new Boolean(false) 都是真

	// toPrimitive是对象转为基本类型时会触发的内部方法

	// 不同类型对象的valueOf()方法的返回值和返回值类型均可能不同。
	console.log('valueOf()转换')
	// 对于new出来的对象,valueOf()返回值为对应的类型, 与原来的值不完全相等(类型不等)
	var num2 = new Number()
	var str2 = new String('abc')
	var bool2 = new Boolean(false)
	console.log(num2.valueOf())
	console.log(str2.valueOf())
	console.log(bool2.valueOf())

	console.log(typeof num2)
	console.log(typeof str2)
	console.log(typeof bool2)

	console.log(num2.valueOf() === num2)
	console.log(str2.valueOf() === str2)
	console.log(bool2.valueOf() === bool2)


	// valueOf() 
	// 对象 对象本身
	// 数组 数组本身
	// 函数 返回函数本身
	// Date 返回Date毫秒数(1970)
	console.log('valueOf():')
	var fun = function () {}
	console.log('valueOf()转换')
	console.log({}.valueOf())
	console.log([1,2,3].valueOf())
	console.log(fun.valueOf())
	console.log(new Date().valueOf())

	// toString() 对数组和对象重新定义
	// 对象 [object type]
	// 数组 arr.join(',')的返回值
	// 函数 返回整个函数字符串
	// Date 返回时间Tue Jan 05 2021 03:23:55 GMT+0800 (中国标准时间)
	console.log('toString():')
	var fun = function () {}
	console.log('toString()转换')
	console.log({}.toString())
	console.log([1,2,3].toString())
	console.log(fun.toString())
	console.log(new Date().toString())

</script>
</body>
</html>