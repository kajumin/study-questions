<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
<script type="text/javascript">
	// 当数组作为数组的值时, 会调用toString方法
	console.log(([1,[1,2,3,4,5]]).toString())
	
	function memoize(fn) {
	  const cache = {};
	  return function (...args) {
	  	let param = Array.prototype.slice.call(args)
	    if (cache[param]) {
	      console.log('cached');
	      return cache[param];
	    } else {
	      let result = fn(...param)
	      cache[param] = result;
	      console.log(`not cached`);
	      // console.log(cache)
	      return result;
	    }
	  }
	}

	function jiecheng(n) {
		console.log('调用了函数')
		if(n ===1) return 1;
		return n * jiecheng(n-1);
	}

	// var memoryjiecheng = memoize(jiecheng)
	// memoryjiecheng(5)
	// memoryjiecheng(5)

	const reduceAdd = (numbers, startingValue = 0) => numbers.reduce((total, cur) => total + cur, startingValue);
	const memoizedReduceAdd = memoize(reduceAdd);
	console.log(memoizedReduceAdd([1, 2, 3, 4, 5], 5));
	console.log(memoizedReduceAdd([1, 2, 3, 4, 5], 5));
	// console.log(memoizedReduceAdd)
</script>
</body>
</html>