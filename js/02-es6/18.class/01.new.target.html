<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
<script>
	var Person = function(name) {
		if (new.target === Person) {
			this.name = name
		} else {
			throw new Error('必须使用new生成实例')
		}
		// if (new.target !== undefined) {
		// 	this.name = name
		// } else {
		// 	throw new Error('必须使用new生成实例')
		// }
	}
	// var p = Person('bang')// 报错
	var p = new Person('bang')
	console.log(p)

	class Shape {
		constructor(name) {
			if(new.target === Shape) {
				throw new Error('本类不能实例化')
			}
			this.name = name
		}
		getName() {
			return this.name
		}
	}
	class Rectangle extends Shape {
		constructor(name, width, height) {
			// console.log('rectangle')
			super(name)
			this.width = width
			this.height = height
		}
		getArea() {
			return this.width * this.height
		}
	}
	// var r = new Shape() //报错
	var r = new Rectangle('rectangle', 3, 4) //可以
	console.log(r)
	console.log(r.getArea()) //12
	console.log(r.name) //rectangle
	console.log(r.getName()) //rectangle
</script>
</body>
</html>