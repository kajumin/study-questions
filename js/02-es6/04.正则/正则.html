<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
<!-- 
es6书籍
(1)第二个参数 添加修饰符(替换)  new RegExp('abc', 'uiy')
(2)字符串的四个正则方法   split search replace match
(3)u修饰符: unicode模式, 用来正确处理大于\uFFFF的字符(4个字节的UTF-16编码)
   1.点字符
   2.{}表示unicode字符的表示法
   3.量词 /𠮷{2}/u
   4.影响预定义模式 /\S/
(4)i修饰符 忽略大小写
(5)y修饰符 粘连 保证匹配必须从剩余的第一个位置开始
(6)属性
   1.sticky  y
   2.flags
(7)s修饰符(dotAll模式): 任意非行终止符  \n \r
(8)后行断言 ?<=abc   ?<!=abc
(9)具名组匹配 (?<year>\d{4})  引用 \k<year>
   获取匹配字符: matchObj.groups.year

   补充: 修饰符g(全局) m(多行)
   reg.global   g
   reg.multiline  m
   reg.ignoreCase  i
   reg.lastIndex  下一次exec匹配开始的索引
   reg.source     正则源码文本
-->
<!--
语法精粹
1.正则表达式转义:
  \n换行符 \r回车符 \t制表符 \f换页符  
  \u 允许指定一个unicode字符来表示一个十六进制的常量
  \b 字边界  不好用
  \d [0-9] 数字      \D 非数字
  \s 空白字符        \S 非空白字符
  \w [0-9a-zA-Z]字符 \w非字符
  \1 引用捕获型分组

2.分组
(1)捕获型   ()
(2)非捕获型 (?:前缀)
(3)前行断言 (?=abc[0-9]+)   (?!abc[0-9]+)  
(3)后行断言 ([0-9]+?<=abc)  ([0-9]+?<!abc)

3.量词
 {3,} 三次或者更多
 {3,6} 三到六次
 ?  0或1     {0,1}
 *  任意次   {0,}
 +  一次以上 {1,}
 -->


 <script type="text/javascript">
 	var reg = new RegExp('abc', 'uiygm')
 	console.log(reg.global)
 	console.log(reg.multiline)
 	console.log(reg.sticky)
 	console.log(reg.ignoreCase)
 	console.log(reg.flags)

 	// u修饰符
 	console.log(/^\uD83D/u.test('\uD83D\uDC2A')) //false
 	console.log(/^\uD83D/.test('\uD83D\uDC2A')) //true

 	var s = '𠮷';
 	console.log(/^.$/u.test(s)) //true
 	console.log(/^.$/.test(s))  //true
 	// {} unicode字符表示法	
 	console.log(/\u{61}/u.test('a'))  //true
 	console.log(/\u{61}/.test('a'))  //false
 	
 	// 量词
 	console.log(/a{2}/.test('aa')) //true
 	console.log(/a{2}/u.test('aa')) //true

 	console.log(/𠮷{2}/u.test('𠮷𠮷')) //true
 	console.log(/𠮷{2}/.test('𠮷𠮷')) //true

 	// 预定义模式
 	// \S所有不是空格的字符
 	console.log(/^\S$/u.test('𠮷')) //true
 	console.log(/^\S$/.test('𠮷')) //true

 	// y修饰符 让头部匹配的标志^全局都有效
 	// g没有粘连要求
 	var s = 'aaa_aa_a'
 	var reg2 = /a+/y;
 	var reg3 = /a+/g;
 	console.log(reg2.exec(s)) //[aaa]
 	console.log(reg3.exec(s)) //[aaa]

 	console.log(reg2.exec(s)) //null 没有粘连所以失败
 	console.log(reg3.exec(s)) //[aa]

 	// g指定开始匹配位置
 	var reg4 = /a/g;
 	reg4.lastIndex = 2;
 	var match = reg4.exec('xaya')
 	console.log(match)
 	console.log(match.index) //3
 	reg4.lastIndex = 4;
 	console.log(reg4.exec('xaya')) //null

 	// y指定开始匹配位置
 	var reg5 = /a/y;
 	reg5.lastIndex = 2;
 	var match = reg5.exec('xaya')
 	console.log(match) //null
 	// console.log(match.index) //3
 	reg5.lastIndex = 3;
 	console.log(reg5.exec('xaya')) //[a]

 	// s修饰符 使得.可以代表一切字符
 	// .本来是除终止字符的
  // \n换行 \r回车  \f换页 \t制表
  console.log('s修饰符:')
  console.log(/abc.cde/.test('abc\ncde'))//false
  console.log(/abc.cde/.test('abc\rcde'))//false

  console.log(/abc.cde/.test('abc\tcde'))//true
  console.log(/abc.cde/.test('abc\fcde'))//true

  console.log(/abc.cde/s.test('abc\ncde'))//false
  console.log(/abc.cde/s.test('abc\rcde'))//true

  console.log(/abc.cde/s.test('abc\tcde'))//true
  console.log(/abc.cde/s.test('abc\fcde'))//true

 	
 </script>
</body>
</html>