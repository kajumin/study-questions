<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
<script type="text/javascript">

	function red () {
		console.log('red')
	}
	function green () {
		console.log('green')
	}
	function blue () {
		console.log('blue')
	}
	
	function lights (time, fun) {
		// console.log(fun)
		return new Promise((resolve, reject) => {
			setTimeout(() => {
				resolve()
				fun()
			}, time)
		})
		
	}
	function steps () {
		Promise.resolve()
		.then(() => {
			return lights(3000, red)
		})
		.then(() => {
			return lights(2000, green)
		})
		.then(() => {
			return lights(1000, blue)
		})
		.then(() => {
			steps()
		})
	}
	steps()

	// 每三秒一次red  每两秒一次green 每一秒blue
	// function fun () {
	// 	new Promise((resolve, reject) => {
	// 		setTimeout(() => {
	// 			resolve()
	// 		}, 3000)
	// 	})
	// 	.then(() => {
	// 		console.log('red')
	// 		fun()
	// 	})
	// }
	// fun()

	// function fun2 () {
	// 	new Promise((resolve, reject) => {
	// 		setTimeout(() => {
	// 			resolve()
	// 		}, 2000)
	// 	})
	// 	.then(() => {
	// 		console.log('green')
	// 		fun2()
	// 	})
	// }
	// fun2()

	// function fun3 () {
	// 	new Promise((resolve, reject) => {
	// 		setTimeout(() => {
	// 			resolve()
	// 		}, 1000)
	// 	})
	// 	.then(() => {
	// 		console.log('blue')
	// 		fun3()
	// 	})
	// }
	// fun3()
	
</script>
</body>
</html>