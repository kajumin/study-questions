<!DOCTYPE html>
<html>
<head>
	<title>ajax 动态表格渲染</title>
	<meta charset="utf-8">
</head>
<body>
	<table id="demo" border="1">
		
	</table>
	<!-- 如果type不等于 text/javascript -->
<script src="template-web.js"></script>
<script id="tmpl" type="text/x-art-template">
	
	{{each comments}}
	<tr>
		<!-- $index 下标 -->
		<td width="10%">{{$index}}</td>
		<!-- $value当前遍历的数据 -->
		<td width="10%">{{$value.author}}</td>
		<td width="50%">{{$value.content}}</td>
		<td width="20%">{{$value.created}}</td>
	</tr>
	{{/each}}
</script>
<script>
	
	var xhr = new XMLHttpRequest()
	xhr.open('GET','http://localhost/ajax/test.php')
	xhr.send()
	xhr.onreadystatechange = function() {
		if(this.readyState!== 4) return
		var res = JSON.parse(this.responseText)
		// console.log(res)
		// content 模板所需数据
		var context = {comments:res.data}
		
		var html = template('tmpl',context)
		console.log(html)
		document.getElementById('demo').innerHTML = html;

		// 1.选择一个模板引擎
		// 2.下载模板引擎JS文件
		// 3.引入到页面中
		// 4.准备一个模板
		// 5.准备一个数据
		// 6.通过模板引擎的JS提供一个函数将模板和数据整合得到渲染结果HTML
		// 7.将渲染结果的HTML设置到默认的元素中


	}
</script>
</body>
</html>