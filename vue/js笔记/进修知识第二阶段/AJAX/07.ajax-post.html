<!DOCTYPE html>
<html>
<head>
	<title></title>
	<style>
		.loading{
			display: none;
			position: fixed;
			top: 0;
			left: 0;
			bottom: 0;
			right: 0;
			background-color: #555;
			opacity: 0.5;
			text-align: center;
			line-height: 500px;
		}
		.loading::after{
			content: '加载中...';
			color: #000;
		}
	</style>
</head>
<body>
	<div class="loading" id="loading"></div>
<table border="1" >
	<tr>
		<td>用户名:</td>
		<td><input type="text" id="username"></td>
	</tr>
	<tr>
		<td align="right" >密码:</td>
		<td><input type="password" id="password"></td>
	</tr>
	<tr>
		<td></td>
		<td><button id="btn">登录</button></td>
	</tr>
</table>
<script>
	// var btn = document.getElementById('btn')
	var txtUsername = document.getElementById('username')
	var txtPassword = document.getElementById('password')
	var loading = document.getElementById('loading')

	btn.onclick = function() {
		// 1.获取界面上的元素value
		// 2.通过XHR发送一个POST请求
		// 3.根据服务器的反馈 做出界面提示
		loading.style.display='block';
		var username = txtUsername.value
		var password = txtPassword.value
		// console.log(username,password)
		var xhr = new XMLHttpRequest()
		
		xhr.open('POST','http://localhost/ajax/login.php')
		xhr.setRequestHeader('Content-Type','application/x-www-form-urlencoded')
		// xhr.send('username=' + username + '&password=' + password)
		xhr.send(`username=${username}&password=${password}`)

		xhr.onreadystatechange = function () {
			if(this.readyState === 4){
				loading.style.display='none';
				console.log(this.responseText)
			}
		}
	}

</script>
</body>
</html>