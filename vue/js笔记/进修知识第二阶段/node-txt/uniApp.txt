Union Application(联合应用程序)    基于vue.js  开发规范类似小程序
   
(1) 同一套代码  编译 多端
(2) 接近于原生, 效果好
(3) 开发效率高
(4) 开发 (人力/ 维护/ 时间 )成本低
(5) 学习成本低   使用vue.js开发
(6) 支持 npm 和 自定义组件
(7) 社区活跃, 版本迭代快
安卓   ios  h5   微信小程序  支付宝小程序   百度小程序

====新建项目
(1) uni-app (2)Wap2App  (3) 5+app (4)小程序  (5)快应用
提供模板: 电商  新闻  看图

{{}}  数据绑定   {{表达式}} title + '123'   {{三元表达式也是可以的}}  {{sex === 0 ? true : false}}
真机调试: 
 ios权限设置  信任app   ios模拟器simulator(需要xcode)
 andorid
 小程序:  需要对应的开发者工具   用开发者工具里面的模拟器测试
             百度小程序  axml   acss  


=====MVC(medel-view-control)
Model(模型):  数据层，负责存储数据。
View(视图):  展现层，用户所看到的页面。 前端页面
Controller(控制器):  协调层，负责协调Model和View，根据用户在View上的动作 在Model上作出对应的更改，同时将更改的信息返回到View上。
三者之间的关系: Controller可以直接访问Model，也可以直接控制View, 但是Model和View不能相互通信，相当于Controller就是介于这两者之间的协调者。
页面 => 路由 + 控制器  => 模型(数据库)
===========MVVM(model-view-viewmodel)
Model(模型): 数据层，负责存储数据。
View(控制器): 就是ViewController层，它的任务就是从ViewModel层获取数据，然后显示。
ViewModel(视图模型):  就是View和Model层的粘合剂，封装业务逻辑处理，封装网络处理，封装数据缓存。就是把原来ViewController层的业务逻辑和页面逻辑等剥离出来放到ViewModel层。  =>对应数据的双向绑定

========MVVC(Model-View-View-Controller)
Model(模型): 数据层，负责存储数据。
View(视图): 展现层，创建需求创建cell
View(视图): 定义数组，用来接收控制中的数据。处理回调（比如: 刷新回调、点击cell回调、加载更多回调、动态视图高度回调等等）
Controller(控制器): 加载网络数据懒加载

=============框架基础
1.mvc与mvvm思想    
2.项目结构与文件类型
3.全局标题和页面标题  
4.全局的样式 与页面样式  app.vue写全局样式
5.app的生命周期
6.页面的生命周期
7.数据绑定和事件
8.组件的动态和静态变量
9.条件判断与for循环
10.多端兼容条件编译


2.项目结构和文件类型
   components  自定义组件
   pages            所有页面   index默认所有  index.vue
   pages.json     配置文件json对象  
                         (1)pages: [ {} ]  启动项  创建页面之后自动添加
                         (2)globalStyle: 标题内容 标题颜色(黑色和白色)  背景颜色  
                             上拉刷新  下拉刷新       
   static             页面静态资源 
   unpackage    打包目录
   App.vue         定义全局样式  app生命周期函数
   main.js           项目的入口文件  
   manifest.json   发布  运行调试 基础配置  图标1024 * 1024
                          appSDK  配置  第三方登录授权  支付   推送  分享
                          app模块权限配置    地图  支付 消息推送
                          h5配置      启动协议(https 小程序中必须)  端口
                          微信小程序配置   appid  检测安全域名和TSL版本(开发时关闭)
     uni.scss          内置了常用的样式变量   安装 scss 插件  lang="scss"                  

5.app的生命周期:
   onLaunch      app初始化完成时   只会触发一次
   onShow         启动 或者 从后台进入前台显示
   onHide          从前台进入后台    //浏览器最小化会触发  再打开就会触发onShow  
   onUniNViewMessage   对nvue页面发送信息   //不常用
   onError          微信小程序 | 支付宝小程序   错误监听函数   
   onPageNotFound   页面不存在监听函数
6.页面的生命周期
  onLoad       页面初始加载
  onUnload    页面卸载
  onShow       页面显示
  onHide        页面隐藏
  onReady      初次渲染完成
  onPullDownRefresh   下拉刷新   
  onReachBottom   上拉触底处理函数
  onShareAppMessage   转发分享  小程序特有的
  onPageScroll      页面滚动触发
  onNavigationBarButtonTaps    原生标题栏按钮点击事件 5+app(android, ios)  h5
  onBackPress   页面返回     app、H5、支付宝小程序
eg: 
响应式尺寸    自适应像素    rpx(旧版upx)    屏幕的宽度都是750rpx
750 * 元素在设计稿中的宽度(100px | 200px) / 设计稿基准宽度(750px)   = 100rpx | 117rpx
如果设计图纸不是750px  可以编辑设置提示功能

ip6下   750rpx = 全屏
字体 font-size  
view  相当于一个div

9. 事件
@click="click"  点击事件
@tap="tap"    //触摸优先于点击  两者选择一个  覆盖click事件   推荐使用tap
@input="input"  //输入 
@change="change"  //变化时触发   回车也会触发
@blur()               //失去焦点
@focus()             //获取焦点
@confirm()         //点击完成按钮或者回车   相当于web的回车键
@longpress()       //推荐使用
@longtap()          //长时间触摸优先于按压   但是触摸不推荐使用了
@touchstart()      //触摸开始
@touchmove()     //触摸移动时
@touchend()        //触摸结果
@touchcancel()    //来电 弹窗  触摸被取消
reset
submit
columnchange      //多列选择器
linechange            //键盘回车  行数发生变化
scrolltolower         //同下
scrooltoupper       //同下 
scroll                    //滚动组件事件
================for  跟vue一样
for((item,index) in list) { }
v-if   v-else-if    v-else   v-show   可以支持三元表达式
<block></block>  字符串拼接
嵌套需要使用不同的索引  不使用也会有index同名的

10. 多端兼容条件编译   .vue   .js   .css     .page.json都可以使用
#ifdef    仅在某个平台
#ifndef  除了某个平台都编译
#endif   结束
mp       xxx小程序
注释
<!--#ifdef H5 -->    //html
// #ifdef H5            //js
/* #ifdef  H5           //css
ctrl +  alt +  /  快速注释   并选择条件
alt +  /   选项查看

APP-PLUS	App          app
MP-WEIXIN	微信小程序
MP-ALIPAY	支付宝小程序
MP-QQ	                QQ
MP-TOUTIAO	字节跳动小程序
H5

11. 样式导入:  @import: url("./flex-direction.css")
=============配置注意pages.json
如果 h5 节点没有配置，默认会使用 app-plus 下的配置。
配置了 h5 节点，则会覆盖 app-plus 下的配置。

===========项目实战
======使用介绍
组件:     image(mode)  swiper轮播图  scroll-view(可滚动视图区域)   自定义(评分)   
             vedio(视频)     animation(动画)  navigator(导航)
api: 
(1) 底部导航
(2) 禁用顶部标题栏   
(3) 微信真机调试 需要appid   没有https   关闭开发者工具上的https检查功能
(4) 下拉刷新     显示隐藏loading   开启导航栏loading样式
(5) 滚动加载更多  onReachBottom
(6) uni.navigateTo({})  跳转页面  获取参数  onLoad(params) {}
(7) 修改导航条样式pages.json  uni.setNavigationBarColor({})  通过api修改样式
(8) 预览功能     uni.previewImage({current, urls})
(9) 自定义预览功能  
(10)长按弹出操作栏      uni.showActionSheet({})
(11)下载         uni.downloadFile({url, success})
(12) uni.showToast({})  提示框
(13) 小程序分享   onShareAppMessage(res)  自带的三个点按钮
(14) 导航栏分享   onNavigationBarButtonTap(e) {  uni.share({})  }
(15) vedio视频上下文处理  onshow  onhide显示隐藏时停止或者开始播放
       @play="meIsPlaying"   调用函数开始播放  停掉其他正在播放的


1.改标题(NEXT超英预告)
2.新建页面 search搜索  me个人  index首页
3.tabbar制作
color  bfbfbf
selectedColor  515151
backgroundColor
borderStyle     black|white  只支持两个
backgroundColor: #fff
list : [   //最少两个  最多五个  pagePath   text    iconPath   selectedIconPath
{pagePath:"pages/index/index", text: "首页",iconPath:"static/tabBarIcon/index.png",selectedIconPath:""}
]

4.app.vue设置公共样式

5.view  视图组件
=====swiper轮播图组件 
:indicator-dots="true"   指示点  默认false
:autoplay="true"           自动轮播  默认false
:interval  = "3000"  
:duration = "1000"
image src class="carousel" 
首页禁用顶部标题栏   小程序是禁不了的 
"app-plus": {  "titleNView": false //禁用原生导航栏 }  pages.json

=================
https://www.imovietrailer.com/superhero/doc.html
https://www.imovietrailen.com/superhero/index/carousel/list    接口地址
carousel : http://122.152.205.72:88/group1/M00/00/03/CpoxxFw1ZHiASu_7AAfGb_KNy8Y861.png
=======设置默认api地址
(1)Vue.prototype.$serverURL = 'https://www.imovietrailer.com/superhero/index/carousel/list'
(2)common.js   统一管理api
========微信真机调试 
需要: appID
APP ID1110443715
APP KEYQgWSaa68UO74otqL
加在 mainfest.json   小程序中
密码: yim19812
开发   =>  开发设置服务器域名地址  
关闭小程序开发工具  https的检查功能
=================请求 uni.request({})
请求需要设置:  request   https://www.imovietrailer.com/

1. 热门超英
烈火营救    倩女幽魂：人间情  利刃出鞘  大神猴2伏魔篇   伏虎武松 搜神记：南海美人鲛
scroll-view 组件   滚动条
====自定义组件  name 评分
trailerStars
props:{
	myval: { type: String },
	innerScore: 0,
	showNum: 0  //1显示  0不显示
}

2.热门预告
【军武次位面】14：苍穹之舟 齐柏林飞艇传奇  2012世界末日 先行版预告片 
热点丨上海新增1例湖北来沪确诊病例 活动场所包括虹桥火车站
雷神3: 诸神黄昏

http://122.152.205.72:88/superhero/MARVEL/Thor3/poster.jpg
http://122.152.205.72:88/superhero/MARVEL/Thor3/cover.jpg
http://122.152.205.72:88/superhero/MARVEL/Thor3/trailer.mp4
使用视频组件vedio
=======猜你喜欢
gessULikeList: []
使用动画组件 animation  使用到  this.$set(target, key, value)方法

=====下拉刷新
"enablePullDownRefresh": true,//开启单页面下拉刷新功能   pages.json
onPullDownRefresh(){   //开始下拉刷新
	this.refresh(); //methods中的方法
}
complete: () => {
uni.stopPullDownRefresh();   //请求完成关闭刷新图标
uni.showLoading({mask:true})   uni.hideLoading(); //loading动画显示隐藏
uni.showNavigationBarLoading();//开启导航栏才有效果  uni.hideNavigationBarLoading();
}

===============搜索页面   debugger使用
1.搜索页面
confirm-type="search"    next(下一个)
/search/list  接口
滚动加载更多

2.详情页
2.1导航到详情页
uni.navigateTo({
      url: "../movie/movie?trailerId="+ trailerId
});
接收参数:  onLoad(params){ console.log(params.trailerId)  }

2.2 image   mode有13种模式, 其中 4 种是缩放模式, 9 种是裁剪模式(left right bottom top)
2.3 处理自定义组件传值失效  为undefined 
<block v-if="trailerInfo.score >= 0">
    <trailerStars :innerScore="trailerInfo.score" showNum="0"></trailerStars>
</block>
2.4 剧照   使用scroll-view组件 mode="aspectFill"  保持纵横比缩放图片
2.5 演职人员   使用scroll-view组件   mode="aspectFill"
2.6 修改导航栏效果
"app-plus": { "titleNView": {
          "type": "transparent",
           "buttons": [{"type": "share"}]
       }
}
//通过api修改导航栏样式
uni.setNavigationBarColor({
	frontColor: "#ffffff",
	backgroundColor: "#000"
});
2.7 预览功能  媒体 => uni.previewImage
loop  循环   默认false
uni.previewImage({  //预览api
	current: this.plotPicsArr[imageindex],
	urls: this.plotPicsArr
});
演职人员需要拼接数组
data-staffIndex="actorIndex +  directorArray.length"
获取到演人员全部图片信息  再预览  param.cover


uni.switchTab({  //tabbar跳转
    url: "../me/me"
});

2.8 自定义预览组件

2.9 长按弹出操作菜单  保存图片 
uni.showActionSheet({})
itemList  array   最多6个

微信小程序中
download    下载需要配置开发设置  => 服务器域名 https://www.itzixi.com:99

2.10 分享  只能在小程序中  onShareAppMessage(res)
from  target 
(2)导航栏分享
uni.share  分享
"app-plus": {
 "titleNView": {
"type": "transparent",
"buttons": [{"type": "share"}]	 //分享按钮					
  }
}

分享appid  和appsecret   自动给一个
app sdk分享供应商
开发平台(微信)介绍: 
提供转发   微信登录   分享朋友圈   支付功能  =>  发放能力
300元每年
appid   appsecret  
122.152.205.72:88/group1/M00/00/03/CpoxxFwu_1OAYFAIAAAzO_Q1tPg693.png 
http://122.152.205.72:88/group1/M00/00/05/CpoxxFw_-5-AFyVyAABLIH8xBTw233.png

2.11 视频优化体验
uni.createVideoContext("myTrailer")
onHide   隐藏时暂停  this.videoContent.pause()
onShow  显示时继续播放  this.videoContent.play();

2.12 首页视频优化
@play="meIsPlaying"




